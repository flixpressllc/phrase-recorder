<ng-container *ngIf="chosenPhrase; else phraseChooser">
  <app-record-rtc #recorder></app-record-rtc>
  
  <div class="buttons">
    <button (click)="recorder.startRecording()"> Record </button>
    <button (click)="recorder.stopRecording()"> Stop</button>
    <button (click)="recorder.reset()">Reset</button>
  </div>
</ng-container>

<ng-template #phraseChooser>
  <ng-container *ngIf="populatePhrases.isRunning">
    Populating phrases... please wait...
  </ng-container>
  
  <div class="phrase-chooser" *ngIf="!populatePhrases.isRunning">
    Choose a phrase:
    <div class="phrase" *ngFor="let phrase of phrases">
      <button (click)="choosePhrase(phrase)">Choose</button>{{ phrase.text }}
    </div>
  </div>
</ng-template>